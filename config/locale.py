class Locale:
    def __init__(self, lang):
        self.lang = lang
        self.translations = {
            "en": {
                "greeting": "Hello! Welcome to the vpn shop!",
                "choose_rate": "Choose a plan",
                "buy_sub": "Buy a subscription",
                "show_sub": "Show subscription",
                "back": "⬅️ Back",
                "cancel": "❌ Cancel",
                "confirm": "✅ Confirm",
                "rate_selected": "You have selected:",
                "confirm_purchase": "✅ Buy this plan",
                "change_rate": "🔄 Choose another plan",
                "confirm_question": "Confirm your purchase:",
                "error_loading_rates": "Error loading plans",
                "rate_not_found": "Plan not found",
                "choose_payment": "Choose payment method:",
                "pay_card": "💳 Bank Card",
                "pay_crypto": "₿ Cryptocurrency",
                "pay_stars": "⭐ Stars",
                "sub": "Subscription:",
                "active": "✅ Active",
                "expired": "❌ Expired",
                "no_subscription": "You don't have an active subscription",
                "loading": "⏳ Loading...",
                "success": "✅ Success!",
                "error": "❌ Error",
                "try_again": "🔄 Try again",
                "GB": "GB",
                "sub_url": "Subscription url",
                "traffic_used": "Traffic used",
                "traffic_limit": "Traffic limit",
                "status": "Status",
                "topup": "Top-up balance",
                "info_balance": "Your balance:",
                "buy_rate": "Buy rate:",
                "rate_value": "Price:",
                "rate_description": "Description",
                "rate_period": "Period:",
                "payment_description": "VPN subscription payment",
                "thanks_for_purchase": "Thanks for purchase!",
                "enter_amount": "Enter amount to top up (in RUB):",
                "invalid_amount": "Invalid amount",
                "amount_too_large": "Amount is too large",
                "invalid_amount_format": "Invalid amount format",
                "payment_created": "Payment created",
                "amount": "Amount",
                "expires_in": "Expires in 1 hour",
                "pay_by_this_link": "Pay by this link",
                "payment_creation_error": "Payment creation error",
                "user_not_found": "User not found",
                "success_message": "✅ Payment successful!",
                "percent_by_referral": "💰 Referral bonus: +",
                "show_balance": "💰 Show balance",
                "referral_button": "👥 Referrals",
                "pay": "💳 Pay",
                "1_month": "1 month",
                "3_month": "3 months",
                "6_month": "6 months",
                "12_month": "12 months",
                "open_sub": "🔗 Open subscription",
                "referral_connected": "🎉 New referral connected:",
                "choose_months": "Choose subscription period:",
                "sub_list": "📋 Your subscriptions",
                "limited": "⚠️ Limited",
                "disabled": "🔴 Disabled",
                "subscription": "Subscription",
                "expires": "Expires",
                "sub_bought": "✅ Subscription purchased successfully!",
                "new_balance": "💰 New balance: ",
                "sub_already_in_subs": "📋 Subscription added to your list",
                "not_enough_money": "❌ Insufficient funds. Your balance",
                "refheader": "👥 Referral Program",
                "your_reflink": "🔗 Your referral link:",
                "ref_percent": "💰 Your referral percentage:",
                "sub_expired": "Subscription Expired",
                "expiry_date": "📅 Expiry date: ",
                "renew_subscription": "🔄 Please renew your subscription to continue using the service.",
                "sub_expires_soon": "Subscription Expiring Soon",
                "hours before": "⏰ Hours remaining: ",
                "expire_date": "📅 Expiration date: ",
                "dont_forget_renew": "💡 Don't forget to renew your subscription!",
            },
            "ru": {
                "greeting": "Привет! Добро пожаловать в магазин vpn!",
                "choose_rate": "Выберите тариф",
                "buy_sub": "Купить подписку",
                "show_sub": "Показать подписку",
                "back": "⬅️ Назад",
                "cancel": "❌ Отмена",
                "confirm": "✅ Подтвердить",
                "rate_selected": "Вы выбрали:",
                "confirm_purchase": "✅ Купить этот тариф",
                "change_rate": "🔄 Выбрать другой тариф",
                "confirm_question": "Подтвердите покупку:",
                "error_loading_rates": "Ошибка загрузки тарифов",
                "rate_not_found": "Тариф не найден",
                "choose_payment": "Выберите способ оплаты:",
                "pay_card": "💳 Банковская карта",
                "pay_crypto": "₿ Криптовалюта",
                "pay_stars": "⭐ Звезды",
                "active": "✅ Активна",
                "expired": "❌ Истекла",
                "no_subscription": "У вас нет активной подписки",
                "loading": "⏳ Загрузка...",
                "success": "✅ Успешно!",
                "error": "❌ Ошибка",
                "try_again": "🔄 Попробовать снова",
                "GB": "ГБ",
                "sub": "Подписка",
                "sub_url": "Ссылка на подписку",
                "traffic_used": "Использовано",
                "traffic_limit": "Лимит трафика",
                "status": "Статус",
                "topup": "Пополнить баланс",
                "info_balance": "Ваш баланс:",
                "buy_rate": "Приобрести тариф:",
                "rate_value": "Стоимость:",
                "rate_description": "Описание:",
                "rate_period": "Длительность:",
                "payment_description": "Оплата VPN подписки",
                "thanks_for_purchase": "Спасибо за покупку!",
                "enter_amount": "Введите сумму для пополнения (в рублях):",
                "invalid_amount": "Неверная сумма",
                "amount_too_large": "Слишком большая сумма",
                "invalid_amount_format": "Неверный формат суммы",
                "payment_created": "Платеж создан",
                "amount": "Сумма",
                "expires_in": "Истекает через 1 час",
                "pay_by_this_link": "Оплатить по этой ссылке",
                "payment_creation_error": "Ошибка создания платежа",
                "user_not_found": "Пользователь не найден",
                "success_message": "✅ Платеж успешно выполнен!",
                "percent_by_referral": "💰 Реферальный бонус: +",
                "show_balance": "💰 Показать баланс",
                "referral_button": "👥 Рефералы",
                "pay": "💳 Оплатить",
                "1_month": "1 месяц",
                "3_month": "3 месяца",
                "6_month": "6 месяцев",
                "12_month": "12 месяцев",
                "open_sub": "🔗 Открыть подписку",
                "referral_connected": "🎉 Подключен новый реферал:",
                "choose_months": "Выберите период подписки:",
                "sub_list": "📋 Ваши подписки",
                "limited": "⚠️ Ограничена",
                "disabled": "🔴 Отключена",
                "subscription": "Подписка",
                "expires": "Истекает",
                "sub_bought": "✅ Подписка успешно приобретена!",
                "new_balance": "💰 Новый баланс: ",
                "sub_already_in_subs": "📋 Подписка добавлена в ваш список",
                "not_enough_money": "❌ Недостаточно средств. Ваш баланс",
                "refheader": "👥 Реферальная программа",
                "your_reflink": "🔗 Ваша реферальная ссылка:",
                "ref_percent": "💰 Ваш реферальный процент:",
                "sub_expired": "Подписка истекла",
                "expiry_date": "📅 Дата истечения: ",
                "renew_subscription": "🔄 Пожалуйста, обновите подписку для продолжения использования сервиса.",
                "sub_expires_soon": "Подписка скоро истекает",
                "hours before": "⏰ Осталось часов: ",
                "expire_date": "📅 Дата истечения: ",
                "dont_forget_renew": "💡 Не забудьте продлить подписку!",
            },
        }

    def get(self, key: str) -> str:
        translations = self.translations.get(self.lang, self.translations["en"])
        return translations.get(key, key)

    def get_all_keys(self):
        all_keys = set()
        for lang_dict in self.translations.values():
            all_keys.update(lang_dict.keys())
        return sorted(list(all_keys))
